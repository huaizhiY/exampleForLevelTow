<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Document</title>
      <style>
      
            #box{
                  width: 100px;
                  height: 100px;
                  position: absolute;
                  left: 0;
                  top: 0;
                  background: #ddd;
            }
      </style>
</head>
<body>

      <div id="box">
dafdsadfasfsafs
      </div>

      <script src="../libs/jquery-3.4.0.js"></script>
      <script src="./scripts/drag.js"></script>
      <script>
            new Drag("#box",{
                  startCb : [function(){
                        // console.log("拖拽开始");
                        $("#box").css({
                              background : "red"
                        })
                  }],
                  endCb : [function(){
                        console.log("拖拽结束");
                        $("#box").css({
                              background : "green",
                              width : "100",
                              height: 100
                        })
                  }]
            });

            // 发布订阅模式 ( 观察者模式 )

            // 1. 发布者 ;
            // var publisher = {
            //       // 订阅名单 ;
            //       sublist : [],
            //       // 订阅功能;
            //       sub : function( dingyuezhe ){
            //             this.sublist.push(dingyuezhe);
            //       },
            //       // 取消订阅功能
            //       unsub : function( dingyuezhe ){
            //             var index = this.sublist.indexOf( dingyuezhe );
            //             this.sublist.splice(index,1);
            //       },
            //       // 发布功能;
            //       publish : function(msg){
            //             this.sublist.forEach( dyz => {
            //                   dyz.pub(msg)
            //             })
            //       }
            // }

            // // 2. 订阅者 ;

            // function Sub(name){
            //       this.name = name;
            // }
            // Sub.prototype.pub = function(msg){
            //       console.log("i'm" + this.name + "我收到了消息 : " + msg);
            // }

            // 用来干啥 ?

            // 某些异步操作 ; 后续需要很多的功能支持;

            // var publisher = $.Callbacks();
            // console.log(publisher);
            // publisher.add(function(){
            //       console.log(1)
            // })
            // publisher.add(function(){
            //       console.log(2)
            // })
            // publisher.add(function(){
            //       console.log(3)
            // })
            // publisher.fire();
      </script>
</body>
</html>